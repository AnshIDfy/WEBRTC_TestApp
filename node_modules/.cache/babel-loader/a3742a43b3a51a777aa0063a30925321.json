{"ast":null,"code":"var _jsxFileName = \"/home/terbo/janusroom/src/components/Create.tsx\",\n    _s = $RefreshSig$();\n\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Janus from \"./Janus\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { Textroom } from \"./Textroom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar server = null; // if (window.location.protocol === \"http:\")\n// else server = \"https://\" + window.location.hostname + \":8089/janus\";\n\nserver = \"ws://\" + window.location.hostname + \":8188/janus\";\nvar janus = null;\nvar sfutest = null;\nvar opaqueId = \"videoroomtest-\" + Janus.randomString(12);\nvar myusername = null;\nvar myid = null;\nvar mystream = null;\nvar mypvtid = null;\nvar feeds = [];\nvar bitrateTimer = [];\nvar subscriber_mode = false;\nexport const Create = () => {\n  _s();\n\n  var myDate = new Date(1643009551493694 * 1000);\n  console.log(myDate.toLocaleString());\n  console.log(myDate);\n\n  const handleSelect = e => {\n    bitRate(e);\n  }; //  const [sfuTestObject, setsfuTestObject]: any = useState<any[]>([]);\n  // console.log(sfuTestObject);\n\n\n  const [name, setName] = useState(\"\");\n\n  const onChangeName = event => {\n    return setName(event.currentTarget.value);\n  }; // const remoteFeedData : any[]   = [];\n  // const [remoteFeedData, setremoteFeedData] = useState<any[]>([]);\n\n\n  const pushedData = [];\n  const [remoteFeedPushedData, setremoteFeedPushedData] = useState([]);\n  const [roomID, setRoomID] = useState();\n  var myroom = roomID; // Demo room\n\n  const [showColMd, setShowColMd] = useState(false);\n  const [joinDiv, setjoinDiv] = useState(true);\n\n  const onChangeRoomID = event => {\n    return setRoomID(parseInt(event.target.value));\n  };\n\n  const subscriberMode = () => {\n    subscriber_mode = true;\n    start();\n  };\n\n  const iD = async () => {\n    // try {\n    const session = await axios.post(\"http://127.0.0.1:8088/janus\", {\n      janus: \"create\",\n      transaction: \"session\"\n    });\n    const sessionID = session.data.data.id;\n    const handle = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}`, {\n      janus: \"attach\",\n      plugin: \"janus.plugin.videoroom\",\n      transaction: \"pluginAttach\"\n    });\n    const handleID = handle.data.data.id;\n    const roomCreate = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}/${handleID}`, {\n      janus: \"message\",\n      transaction: \"roomCreate\",\n      body: {\n        request: \"create\",\n        room: roomID,\n        permanent: true,\n        description: \"Videoroom Application Room\",\n        publishers: 8,\n        record: true,\n        rec_dir: \"/tmp\"\n      }\n    });\n    const config = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}/${handleID}`, {\n      janus: \"message\",\n      transacion: \"config\",\n      body: {\n        request: \"c\"\n      }\n    });\n    console.log(roomCreate);\n\n    if (roomCreate.data.plugindata.data.error === `Room ${roomID} already exists`) {\n      alert(\"Room Already Exists, Try Joining This Room instead\");\n    } else {\n      alert(`Your Room is Created | Room Number : ${roomCreate.data.plugindata.data.room}`);\n      myroom = roomCreate.data.plugindata.data.room;\n    }\n\n    setInterval(async () => {\n      const keepAlive = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}/${handleID}`, {\n        janus: \"keepalive\",\n        session_id: sessionID,\n        transaction: \"keepingalive\"\n      });\n    }, 50000);\n    await textRoomCreate();\n  };\n\n  const textRoomCreate = async () => {\n    // try {\n    const session = await axios.post(\"http://127.0.0.1:8088/janus\", {\n      janus: \"create\",\n      transaction: \"session\"\n    });\n    const sessionID = session.data.data.id;\n    console.log(sessionID);\n    const handle = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}`, {\n      janus: \"attach\",\n      plugin: \"janus.plugin.textroom\",\n      transaction: \"pluginAttach\"\n    });\n    const handleID = handle.data.data.id;\n    console.log(handleID);\n    const roomCreate = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}/${handleID}`, {\n      janus: \"message\",\n      transaction: \"roomCreate\",\n      body: {\n        request: \"create\",\n        room: roomID,\n        history: 100,\n        permanent: true,\n        description: \"Textroom Application Room\"\n      }\n    });\n    console.log(roomCreate);\n    setInterval(async () => {\n      const keepAlive = await axios.post(`http://127.0.0.1:8088/janus/${sessionID}/${handleID}`, {\n        janus: \"keepalive\",\n        session_id: sessionID,\n        transaction: \"keepingalive\"\n      });\n    }, 50000);\n  };\n\n  const bitRate = e => {\n    var id = parseInt(e);\n    console.log(id);\n    var bitrate = parseInt(id) * 1000;\n    console.log(bitrate);\n\n    if (bitrate === 0) {\n      console.log(\"Not limiting bandwidth via REMB\");\n    } else {\n      console.log(\"Capping bandwidth to \" + bitrate + \" via REMB\");\n    }\n\n    sfutest.send({\n      message: {\n        request: \"configure\",\n        bitrate: bitrate\n      }\n    });\n    return false;\n  };\n\n  const start = () => {\n    setShowColMd(true);\n    setjoinDiv(false);\n    Janus.init({\n      debug: \"all\",\n      callback: function () {\n        // Make sure the browser supports WebRTC\n        // Create session\n        janus = new Janus({\n          server: server,\n          success: function () {\n            // Attach to VideoRoom plugin\n            janus.attach({\n              plugin: \"janus.plugin.videoroom\",\n              opaqueId: opaqueId,\n              success: function (pluginHandle) {\n                sfutest = pluginHandle;\n                console.log(\"Plugin attached! (\" + sfutest.getPlugin() + \", id=\" + sfutest.getId() + \")\");\n                console.log(sfutest.session.getSessionId());\n                console.log(\"  -- This is a publisher/m a n a g e r \");\n                myusername = name;\n                const register = {\n                  request: \"join\",\n                  room: myroom,\n                  ptype: \"publisher\",\n                  display: name,\n                  record: false\n                };\n                console.log(myusername);\n                sfutest.send({\n                  message: register\n                });\n              },\n              error: function (error) {\n                console.error(\"  -- Error attaching plugin...\", error);\n              },\n              consentDialog: function (on) {\n                console.debug(\"Consent dialog should be \" + (on ? \"on\" : \"off\") + \" now\");\n              },\n              mediaState: function (medium, on) {\n                console.log(\"Janus \" + (on ? \"started\" : \"stopped\") + \" receiving our \" + medium);\n              },\n              webrtcState: function (on) {\n                console.log(\"Janus says our WebRTC PeerConnection is \" + (on ? \"up\" : \"down\") + \" now\");\n                if (!on) return; // setsfuTestObject(sfutest);\n              },\n              onmessage: function (msg, jsep) {\n                console.debug(\" ::: Got a message (publisher) :::\");\n                let event = msg[\"videoroom\"];\n                console.log(msg);\n                console.debug(\"Event: \" + event);\n\n                if (event != undefined && event != null) {\n                  if (event === \"joined\") {\n                    // Publisher/manager created, negotiate WebRTC and attach to existing feeds, if any\n                    myid = msg[\"id\"];\n                    mypvtid = msg[\"private_id\"];\n                    console.log(\"Successfully joined room \" + msg[\"room\"] + \" with ID \" + myid);\n\n                    if (subscriber_mode) {\n                      var _element$parentNode;\n\n                      const element = document.getElementById(\"hideDiv\");\n                      element === null || element === void 0 ? void 0 : (_element$parentNode = element.parentNode) === null || _element$parentNode === void 0 ? void 0 : _element$parentNode.removeChild(element); // $(\"#videos\").removeClass(\"hide\").show();\n                    } else {\n                      publishOwnFeed(true);\n                    }\n\n                    if (msg[\"publishers\"] !== undefined && msg[\"publishers\"] !== null) {\n                      let list = msg[\"publishers\"];\n                      console.log(\"Got a list of available publishers/feeds:\");\n                      console.log(list);\n\n                      for (let f in list) {\n                        let id = list[f][\"id\"];\n                        let display = list[f][\"display\"];\n                        let audio = list[f][\"audio_codec\"];\n                        let video = list[f][\"video_codec\"];\n                        console.log(\"  >> [\" + id + \"] \" + display + \" (audio: \" + audio + \", video: \" + video + \")\");\n                        newRemoteFeed(id, display, audio, video);\n                      }\n                    }\n                  } else if (event === \"destroyed\") {\n                    // The room has been destroyed\n                    console.warn(\"The room has been destroyed!\");\n                    console.error(\"The room has been destroyed\");\n                  } else if (event === \"event\") {\n                    // Any new feed to attach to?\n                    if (msg[\"publishers\"] !== undefined && msg[\"publishers\"] !== null) {\n                      console.log(\"new publishers!\");\n                      let list = msg[\"publishers\"];\n                      console.log(msg);\n\n                      for (let f in list) {\n                        let id = list[f][\"id\"];\n                        let display = list[f][\"display\"];\n                        let audio = list[f][\"audio_codec\"];\n                        let video = list[f][\"video_codec\"];\n                        console.log(\"  >> [\" + id + \"] \" + display + \" (audio: \" + audio + \", video: \" + video + \")\");\n                        newRemoteFeed(id, display, audio, video);\n                      }\n                    } else if (msg[\"leaving\"] !== undefined && msg[\"leaving\"] !== null) {// One of the publishers has gone away?\n                    } else if (msg[\"unpublished\"] !== undefined && msg[\"unpublished\"] !== null) {\n                      // One of the publishers has unpublished?\n                      if (msg[\"unpublished\"] === \"ok\") {\n                        sfutest.hangup();\n                        return;\n                      }\n                    } else if (msg[\"error\"] !== undefined && msg[\"error\"] !== null) {\n                      if (msg[\"error_code\"] === 426) {// This is a \"no such room\" error: give a more meaningful description\n                      } else {\n                        console.log(\"No Such Room\");\n                      }\n                    }\n                  }\n                }\n\n                if (jsep !== undefined && jsep !== null) {\n                  console.debug(\"Got room event. Handling SDP as well...\");\n                  console.debug(jsep);\n                  sfutest.handleRemoteJsep({\n                    jsep: jsep\n                  }); // Check if any of the media we wanted to publish has\n                  // been rejected (e.g., wrong or unsupported codec)\n\n                  let audio = msg[\"audio_codec\"];\n\n                  if (mystream && mystream.getAudioTracks() && mystream.getAudioTracks().length > 0 && !audio) {\n                    // Audio has been rejected\n                    alert(\"Our audio stream has been rejected, viewers won't hear us\");\n                  }\n\n                  let video = msg[\"video_codec\"];\n\n                  if (mystream && mystream.getVideoTracks() && mystream.getVideoTracks().length > 0 && !video) {\n                    // Video has been rejected\n                    console.log(\"Our video stream has been rejected, viewers won't see us\");\n                  }\n                }\n              },\n              onlocalstream: function (stream) {\n                console.log(\" ::: Got a local stream :::\", stream);\n                mystream = stream; // $(\"#videos\").removeClass(\"hide\").show();\n\n                const videoTag = document.createElement(\"video\");\n                videoTag.className = \"rounded centered\";\n                videoTag.id = \"myvideo\";\n                videoTag.height = 330;\n                videoTag.width = 270;\n                videoTag.autoplay = true;\n                videoTag.playsInline = true;\n                videoTag.style.borderRadius = \"5px\";\n                videoTag.muted = true;\n                const muteBtn = document.createElement(\"button\");\n                muteBtn.className = \"btn btn-warning btn-xs\";\n                muteBtn.id = \"mute\";\n                muteBtn.textContent = \"Mute\";\n                muteBtn.style.position = \"relative\";\n                muteBtn.style.right = \"10px\";\n                const unpublishBtn = document.createElement(\"button\");\n                unpublishBtn.className = \"btn btn-warning btn-xs\";\n                unpublishBtn.id = \"unpublish\";\n                unpublishBtn.textContent = \"Unpublish\";\n                unpublishBtn.style.position = \"relative\";\n                unpublishBtn.style.left = \"100px\"; //\n\n                var videolocal = document.getElementById(\"videolocal\");\n                videolocal.appendChild(videoTag);\n                videolocal.appendChild(muteBtn);\n                videolocal.appendChild(unpublishBtn);\n                var muteToggle = document.getElementById(\"mute\");\n                muteToggle === null || muteToggle === void 0 ? void 0 : muteToggle.addEventListener(\"click\", toggleMute);\n                var unpublishHandle = document.getElementById(\"unpublish\");\n                unpublishHandle === null || unpublishHandle === void 0 ? void 0 : unpublishHandle.addEventListener(\"click\", unpublishOwnFeed);\n                $(\"#publisher\").removeClass(\"hide\").html(myusername).show();\n                Janus.attachMediaStream(videoTag, stream);\n                if (sfutest.webrtcStuff.pc.iceConnectionState !== \"completed\" && sfutest.webrtcStuff.pc.iceConnectionState !== \"connected\") var videoTracks = stream.getVideoTracks();\n              },\n              onremotestream: function (stream) {// The publisher stream is sendonly, we don't expect anything here\n              },\n              oncleanup: function () {\n                console.log(\" ::: Got a cleanup notification: we are unpublished now :::\");\n                mystream = null;\n\n                function createButton() {\n                  var div = document.getElementById(\"videolocal\");\n                  div.innerHTML = '<button id=\"publish\" class=\"btn btn-primary\">Publish</button>';\n                }\n\n                createButton();\n\n                const hide = () => {\n                  const publishBtn = document.getElementById(\"publish\");\n                  publishBtn.style.display = \"none\";\n                };\n\n                var element = document.getElementById(\"publish\");\n                var listener = element.addEventListener(\"click\", function () {\n                  publishOwnFeed(true);\n                  hide();\n                });\n              }\n            });\n          },\n          error: function (error) {\n            console.error(error);\n          },\n          destroyed: function () {\n            console.log(\"destroyed\");\n          }\n        });\n      }\n    });\n\n    function publishOwnFeed(useAudio) {\n      // Publish our stream\n      sfutest.createOffer({\n        media: {\n          audioRecv: false,\n          videoRecv: false,\n          audioSend: useAudio,\n          videoSend: true\n        },\n        // Publishers are sendonly\n        success: function (jsep) {\n          console.debug(\"Got publisher SDP!\");\n          console.debug(jsep);\n          const publish = {\n            request: \"configure\",\n            audio: useAudio,\n            video: true,\n            record: false\n          };\n          sfutest.send({\n            message: publish,\n            jsep: jsep\n          });\n        },\n        error: function (error) {\n          console.error(\"WebRTC error:\", error);\n\n          if (useAudio) {\n            publishOwnFeed(false);\n          }\n        }\n      });\n    }\n\n    function newRemoteFeed(id, display, audio, video) {\n      // A new feed has been published, create a new plugin handle and attach to it as a subscriber\n      let remoteFeed = null;\n      console.log(\"hexx\");\n      janus.attach({\n        plugin: \"janus.plugin.videoroom\",\n        opaqueId: opaqueId,\n        success: function (pluginHandle) {\n          remoteFeed = pluginHandle;\n          console.log(pluginHandle.plugin);\n          console.log(\"Plugin attached! (\" + remoteFeed.getPlugin() + \", id=\" + remoteFeed.getId() + \")\");\n          console.log(\"  -- This is a subscriber\"); // We wait for the plugin to send us an offer\n\n          let subscribe = {\n            request: \"join\",\n            room: myroom,\n            ptype: \"subscriber\",\n            feed: id,\n            private_id: mypvtid\n          };\n          remoteFeed.videoCodec = video;\n          remoteFeed.send({\n            message: subscribe\n          });\n          console.log(subscribe);\n        },\n        error: function (error) {\n          console.error(\"  -- Error attaching plugin...\", error);\n        },\n        onmessage: function (msg, jsep) {\n          console.debug(\" ::: Got a message (subscriber) :::\", msg);\n          let event = msg[\"videoroom\"];\n          console.log(msg);\n          console.log(jsep);\n          console.log(\"Event: \" + event);\n\n          if (event) {\n            if (event === \"attached\") {\n              console.log(`subscriber created and attached!`); // Subscriber created and attached\n\n              for (let i = 1; i < 6; i++) {\n                if (!feeds[i]) {\n                  feeds[i] = remoteFeed;\n                  remoteFeed.rfindex = i;\n                  break;\n                }\n              }\n\n              remoteFeed.rfid = msg[\"id\"];\n              remoteFeed.rfdisplay = msg[\"display\"];\n              console.log(`attached`, remoteFeed);\n              console.log(\"Successfully attached to feed \" + remoteFeed.rfid + \" (\" + remoteFeed.rfdisplay + \") in room \" + msg[\"room\"]); // $(\"#remote\" + remoteFeed.rfindex).removeClass(\"hide\").htmlshow();\n            } else if (event === 'recording') {\n              // Got an ANSWER to our recording OFFER\n              // if(jsep)\n              // recordplay.handleRemoteJsep({ jsep: jsep });\n              // var id = result[\"id\"];\n              // if(id) {\n              //   Janus.log(\"The ID of the current recording is \" + id);\n              //   // recordingId = id;\n              // }\n              console.log('record');\n            }\n          }\n\n          if (jsep) {\n            console.debug(\"Handling SDP as well...\", jsep); // Answer and attach\n\n            remoteFeed.createAnswer({\n              jsep: jsep,\n              media: {\n                audioSend: false,\n                videoSend: false\n              },\n              // We want recvonly audio/video\n              success: function (jsep) {\n                console.log(\"Got SDP!\", jsep);\n                let body = {\n                  request: \"start\",\n                  room: myroom\n                };\n                remoteFeed.send({\n                  message: body,\n                  jsep: jsep\n                });\n              },\n              error: function (error) {\n                console.error(\"WebRTC error:\", error);\n              }\n            });\n          }\n        },\n        iceState: function (state) {\n          console.log(\"ICE state of this WebRTC PeerConnection (feed #\" + remoteFeed.rfindex + \") changed to \" + state);\n        },\n        webrtcState: function (on) {\n          console.log(\"Janus says this WebRTC PeerConnection (feed #\" + remoteFeed.rfindex + \") is \" + (on ? \"up\" : \"down\") + \" now\");\n        },\n        onlocalstream: function (stream) {// The subscriber stream is recvonly, we don't expect anything here\n        },\n        onremotestream: function (stream) {\n          console.log(remoteFeed);\n          const a = $(\"#remotevideo\" + remoteFeed.rfindex).length;\n          console.log(a); // var addButtons = false;\n\n          if ($(\"#remotevideo\" + remoteFeed.rfindex).length === 0) {\n            //   addButtons = true;\n            $(\"#videoremote\" + remoteFeed.id).append('<span class=\"label label-primary hide\" id=\"curres' + remoteFeed.id + '\" style=\"position: absolute; bottom: 0px; left: 0px; margin: 15px;\"></span>' + '  <span class=\"label label-info hide\" id=\"curbitrate' + remoteFeed.id + '\" style=\"position: absolute; bottom: 0px; right: 0px; margin: 15px;\"></span>');\n            $(\"#curbitrate\" + remoteFeed.id).removeClass(\"hide\").show();\n            bitrateTimer[remoteFeed.id] = setInterval(function () {\n              var bitrate = remoteFeed.getBitrate();\n              $(\"#curbitrate\" + remoteFeed.id).text(bitrate);\n            }, 1000); // const indexOfData: any = pushedData.findIndex((remote) => {\n            //   return remote.id == remoteFeed.id;\n            // });\n            // if (indexOfData < 0) {\n            //   pushedData.push(remoteFeed);\n            //   setremoteFeedPushedData(pushedData);\n            // }\n            // console.log(typeof remoteFeed);\n            // console.log(pushedData);\n            // console.log();\n            // setremoteFeedData([...remoteFeedData, remoteFeed]);\n            // No remote video yet\n            // $(\"#videoremote\" + remoteFeed.rfindex).append(\n            //   '<video class=\"rounded centered relative hide\" id=\"remotevideo' +\n            //     remoteFeed.rfindex +\n            //     '\" width=\"100%\" height=\"100%\" autoplay playsinline/>'\n            // );\n          }\n\n          const indexOfData = pushedData.findIndex(remote => {\n            return remote.id == remoteFeed.id;\n          });\n\n          if (indexOfData < 0) {\n            pushedData.push(remoteFeed);\n            setremoteFeedPushedData(pushedData);\n          } // console.log(typeof remoteFeed);\n          // console.log(pushedData);\n          // console.log();\n\n\n          const video = document.getElementById(`remotevideo${remoteFeed.rfindex}`);\n          Janus.attachMediaStream(video, stream);\n          var videoTracks = stream.getVideoTracks(); // $(\"#videoremote\" + remoteFeed.id).append(\n          //   '<span class=\"label label-primary hide\" id=\"curres' +\n          //     remoteFeed.id +\n          //     '\" style=\"position: absolute; bottom: 0px; left: 0px; margin: 15px;\"></span>' +\n          //     '  <span class=\"label label-info hide\" id=\"curbitrate' +\n          //     remoteFeed.id +\n          //     '\" style=\"position: absolute; bottom: 0px; right: 0px; margin: 15px;\"></span>'\n          // );\n          // $(\"#curbitrate\" + remoteFeed.id)\n          //   .removeClass(\"hide\")\n          //   .show();\n          // bitrateTimer[remoteFeed.id] = setInterval(function () {\n          //   var bitrate = remoteFeed.getBitrate();\n          //   $(\"#curbitrate\" + remoteFeed.id).text(bitrate);\n          // }, 1000);\n\n          console.log(remoteFeed);\n          console.log(\"Remote feed #\" + remoteFeed.id + \", stream:\", stream);\n          console.log(remoteFeed.display);\n        },\n        oncleanup: function () {\n          console.log(\" ::: Got a cleanup notification (remote feed \" + id + \") :::\");\n          $(\"#remoteDiv\" + remoteFeed.rfindex).remove();\n        }\n      });\n    }\n\n    function toggleMute() {\n      var muted = sfutest.isAudioMuted();\n      console.log(muted);\n      console.log((muted ? \"Unmuting\" : \"Muting\") + \" local stream...\");\n      if (muted) sfutest.unmuteAudio();else sfutest.muteAudio();\n      muted = sfutest.isAudioMuted();\n      $(\"#mute\").html(muted ? \"Unmute\" : \"Mute\");\n    }\n\n    function unpublishOwnFeed() {\n      // Unpublish our stream\n      var unpublish = {\n        request: \"unpublish\"\n      };\n      sfutest.send({\n        message: unpublish\n      });\n    }\n  };\n\n  const bitrateDropDownObject = [{\n    event: \"0\",\n    detail: \"No Limit\"\n  }, {\n    event: \"128\",\n    detail: \"Cap to 128kbit\"\n  }, {\n    event: \"256\",\n    detail: \"Cap to 256kbit\"\n  }, {\n    event: \"512\",\n    detail: \"Cap to 512kbit\"\n  }, {\n    event: \"1024\",\n    detail: \"Cap to 1024kbit\"\n  }, {\n    event: \"1500\",\n    detail: \"Cap to 1500kbit\"\n  }, {\n    event: \"2000\",\n    detail: \"Cap to 2000kbit\"\n  }];\n\n  function start_screensharing() {\n    // var newstream;\n    // navigator.mediaDevices.getDisplayMedia({ video: true, audio: true })\n    // \t\t\t\t\t.then(function (stream) {\n    //             var [videoStream] = stream.getVideoTracks();\n    //             navigator.mediaDevices.getUserMedia({audio: true})\n    //             .then((audioStream)=> {\n    //              var  [audioTrack] = audioStream.getAudioTracks();\n    //               newstream =new MediaStream([videoStream, audioTrack] )\n    // var constraints = {video: {'mandatory': {'chromeMediaSource':'screen'}}};\n    // navigator.mediaDevices.getUserMedia(constraints)\n    //   .then(stream => newstream = stream)\n    // // ogcode  //\n    sfutest.createOffer({\n      media: {\n        video: \"screen\",\n        audioSend: true,\n        videoRecv: false,\n        videoSend: true,\n        replaceVideo: true\n      },\n      // Screen sharing Publishers are sendonly\n      // stream: newstream ,\n      success: function (jsep) {\n        console.log(\"Got publisher SDP!\", jsep);\n        var publish = {\n          request: \"configure\",\n          audio: true,\n          video: true\n        };\n        sfutest.send({\n          message: publish,\n          jsep: jsep\n        });\n      },\n      error: function (error) {\n        console.log(\"WebRTC error:\", error);\n        console.log(\"WebRTC error... \" + error.message);\n      }\n    }); //   //og code//\n    // })\n    // })\n  }\n\n  function stop_screensharing() {\n    sfutest.createOffer({\n      media: {\n        videoSend: true,\n        audioSend: true,\n        replaceVideo: true\n      },\n      // Screen sharing Publishers are sendonly\n      success: function (jsep) {\n        console.log(\"Got publisher SDP!\", jsep);\n        var publish = {\n          request: \"configure\",\n          audio: true,\n          video: true\n        };\n        sfutest.send({\n          message: publish,\n          jsep: jsep\n        });\n      },\n      error: function (error) {\n        console.log(\"WebRTC error:\", error);\n        console.log(\"WebRTC error... \" + error.message);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"join\",\n    children: [joinDiv && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"join-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Or Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Enter Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: onChangeName,\n                type: \"text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Enter Room ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: onChangeRoomID,\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"roombtn\",\n        onClick: iD,\n        children: [\" \", \"Generate Room\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pubsub\",\n        onClick: start,\n        children: [\" \", \"Publisher\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 859,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pubsub\",\n        onClick: subscriberMode,\n        children: [\" \", \"Subscriber\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: showColMd && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container hide\",\n        id: \"videos\",\n        children: [/*#__PURE__*/_jsxDEV(Textroom, {\n          name: name,\n          roomIDS: roomID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"row\",\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"panel panel-default\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"panel-heading\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"hideDiv\",\n                  children: [remoteFeedPushedData.map((use, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: use.rfdisplay\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 880,\n                      columnNumber: 32\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"panel-title\",\n                    children: [\"Local Video\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"label label-primary hide\",\n                      id: \"publisher\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-info\",\n                      onClick: () => start_screensharing(),\n                      children: \"Start Screen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 889,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-warning\",\n                      onClick: () => stop_screensharing(),\n                      children: \"Stop Screen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 890,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                      children: /*#__PURE__*/_jsxDEV(DropdownButton, {\n                        title: \"Bandwith\",\n                        id: \"dropdown-menu-align-right\",\n                        onSelect: handleSelect,\n                        children: bitrateDropDownObject.map((bit, i) => {\n                          return /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                            eventKey: bit.event,\n                            children: bit.detail\n                          }, i, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 900,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 893,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 892,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"panel-body\",\n                id: \"videolocal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 19\n              }, this), remoteFeedPushedData.map((use, i) => {\n                console.log(\"ansh\");\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: `remoteDiv${use.id}`,\n                  className: \"col-md-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"panel panel-default\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"panel-heading\",\n                      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"panel-title\",\n                        children: [\"User Name : \", use.rfdisplay, /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"label label-info hide\",\n                          id: `remote${use.id}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 926,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 924,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 923,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"panel-body relative\",\n                      id: `videoremote${use.id}`,\n                      children: /*#__PURE__*/_jsxDEV(\"video\", {\n                        id: `remotevideo${use.rfindex}`,\n                        className: \"rounded\",\n                        width: \"270px\",\n                        height: \"330px\",\n                        autoPlay: true,\n                        playsInline: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 936,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 932,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 922,\n                    columnNumber: 25\n                  }, this)\n                }, use.rfindex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 917,\n                  columnNumber: 23\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 830,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Create, \"nRsaQSEG50C0yDwdzaSZ2TmCA6s=\");\n\n_c = Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["/home/terbo/janusroom/src/components/Create.tsx"],"names":["DropdownButton","Janus","axios","React","useState","Dropdown","Textroom","server","window","location","hostname","janus","sfutest","opaqueId","randomString","myusername","myid","mystream","mypvtid","feeds","bitrateTimer","subscriber_mode","Create","myDate","Date","console","log","toLocaleString","handleSelect","e","bitRate","name","setName","onChangeName","event","currentTarget","value","pushedData","remoteFeedPushedData","setremoteFeedPushedData","roomID","setRoomID","myroom","showColMd","setShowColMd","joinDiv","setjoinDiv","onChangeRoomID","parseInt","target","subscriberMode","start","iD","session","post","transaction","sessionID","data","id","handle","plugin","handleID","roomCreate","body","request","room","permanent","description","publishers","record","rec_dir","config","transacion","plugindata","error","alert","setInterval","keepAlive","session_id","textRoomCreate","history","bitrate","send","message","init","debug","callback","success","attach","pluginHandle","getPlugin","getId","getSessionId","register","ptype","display","consentDialog","on","mediaState","medium","webrtcState","onmessage","msg","jsep","undefined","element","document","getElementById","parentNode","removeChild","publishOwnFeed","list","f","audio","video","newRemoteFeed","warn","hangup","handleRemoteJsep","getAudioTracks","length","getVideoTracks","onlocalstream","stream","videoTag","createElement","className","height","width","autoplay","playsInline","style","borderRadius","muted","muteBtn","textContent","position","right","unpublishBtn","left","videolocal","appendChild","muteToggle","addEventListener","toggleMute","unpublishHandle","unpublishOwnFeed","$","removeClass","html","show","attachMediaStream","webrtcStuff","pc","iceConnectionState","videoTracks","onremotestream","oncleanup","createButton","div","innerHTML","hide","publishBtn","listener","destroyed","useAudio","createOffer","media","audioRecv","videoRecv","audioSend","videoSend","publish","remoteFeed","subscribe","feed","private_id","videoCodec","i","rfindex","rfid","rfdisplay","createAnswer","iceState","state","a","append","getBitrate","text","indexOfData","findIndex","remote","push","remove","isAudioMuted","unmuteAudio","muteAudio","unpublish","bitrateDropDownObject","detail","start_screensharing","replaceVideo","stop_screensharing","map","use","bit"],"mappings":"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","sourcesContent":["import DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Janus from \"./Janus\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { Textroom } from \"./Textroom\";\nvar server: any = null;\n// if (window.location.protocol === \"http:\")\n// else server = \"https://\" + window.location.hostname + \":8089/janus\";\nserver = \"ws://\" + window.location.hostname + \":8188/janus\";\nvar janus: any = null;\nvar sfutest: any = null;\nvar opaqueId: any = \"videoroomtest-\" + Janus.randomString(12);\nvar myusername: any = null;\nvar myid: any = null;\nvar mystream: any = null;\nvar mypvtid: any = null;\nvar feeds: any = [];\nvar bitrateTimer: any = [];\nvar subscriber_mode = false;\n\nexport const Create = () => {\n  var myDate = new Date(1643009551493694 * 1000);\nconsole.log(myDate.toLocaleString());\nconsole.log(myDate);\n  const handleSelect = (e: any) => {\n    bitRate(e);\n  };\n  //  const [sfuTestObject, setsfuTestObject]: any = useState<any[]>([]);\n  // console.log(sfuTestObject);\n  const [name, setName] = useState<string>(\"\");\n  const onChangeName = (event: React.ChangeEvent<HTMLInputElement>) => {\n    return setName(event.currentTarget.value);\n  };\n  // const remoteFeedData : any[]   = [];\n  // const [remoteFeedData, setremoteFeedData] = useState<any[]>([]);\n\n  const pushedData: any[] = [];\n  const [remoteFeedPushedData, setremoteFeedPushedData] = useState<any[]>([]);\n  const [roomID, setRoomID] = useState<number>();\n  var myroom: any = roomID; // Demo room\n\n  const [showColMd, setShowColMd] = useState(false);\n\n  const [joinDiv, setjoinDiv] = useState(true);\n\n  const onChangeRoomID = (event: React.ChangeEvent<HTMLInputElement>) => {\n    return setRoomID(parseInt(event.target.value));\n  };\n  const subscriberMode = () => {\n    subscriber_mode = true;\n    start();\n  };\n\n  const iD = async () => {\n    // try {\n\n    const session = await axios.post(\"http://127.0.0.1:8088/janus\", {\n      janus: \"create\",\n      transaction: \"session\",\n    });\n    const sessionID = session.data.data.id;\n    const handle = await axios.post(\n      `http://127.0.0.1:8088/janus/${sessionID}`,\n      {\n        janus: \"attach\",\n        plugin: \"janus.plugin.videoroom\",\n        transaction: \"pluginAttach\",\n      }\n    );\n    const handleID = handle.data.data.id;\n    const roomCreate = await axios.post(\n      `http://127.0.0.1:8088/janus/${sessionID}/${handleID}`,\n      {\n        janus: \"message\",\n        transaction: \"roomCreate\",\n        body: {\n          request: \"create\",\n          room: roomID,\n          permanent: true,\n          description: \"Videoroom Application Room\",\n          publishers: 8,\n          record: true,\n          rec_dir: \"/tmp\",\n        },\n      }\n    );\n    const config = await axios.post(\n      `http://127.0.0.1:8088/janus/${sessionID}/${handleID}`,\n      {\n        janus: \"message\",\n        transacion: \"config\",\n        body: {\n          request: \"c\",\n        },\n      }\n    );\n    console.log(roomCreate);\n    if (\n      roomCreate.data.plugindata.data.error === `Room ${roomID} already exists`\n    ) {\n      alert(\"Room Already Exists, Try Joining This Room instead\");\n    } else {\n      alert(\n        `Your Room is Created | Room Number : ${roomCreate.data.plugindata.data.room}`\n      );\n      myroom = roomCreate.data.plugindata.data.room;\n    }\n    setInterval(async () => {\n      const keepAlive = await axios.post(\n        `http://127.0.0.1:8088/janus/${sessionID}/${handleID}`,\n        {\n          janus: \"keepalive\",\n          session_id: sessionID,\n          transaction: \"keepingalive\",\n        }\n      );\n    }, 50000);\n    await textRoomCreate();\n  };\n\n  const textRoomCreate = async () => {\n    // try {\n\n    const session = await axios.post(\"http://127.0.0.1:8088/janus\", {\n      janus: \"create\",\n      transaction: \"session\",\n    });\n    const sessionID = session.data.data.id;\n    console.log(sessionID);\n    const handle = await axios.post(\n      `http://127.0.0.1:8088/janus/${sessionID}`,\n      {\n        janus: \"attach\",\n        plugin: \"janus.plugin.textroom\",\n        transaction: \"pluginAttach\",\n      }\n    );\n    const handleID = handle.data.data.id;\n    console.log(handleID);\n\n    const roomCreate = await axios.post(\n      `http://127.0.0.1:8088/janus/${sessionID}/${handleID}`,\n      {\n        janus: \"message\",\n        transaction: \"roomCreate\",\n        body: {\n          request: \"create\",\n          room: roomID,\n          history: 100,\n          permanent: true,\n          description: \"Textroom Application Room\",\n        },\n      }\n    );\n\n    console.log(roomCreate);\n\n    setInterval(async () => {\n      const keepAlive = await axios.post(\n        `http://127.0.0.1:8088/janus/${sessionID}/${handleID}`,\n        {\n          janus: \"keepalive\",\n          session_id: sessionID,\n          transaction: \"keepingalive\",\n        }\n      );\n    }, 50000);\n  };\n  const bitRate = (e: any) => {\n    var id: any = parseInt(e);\n    console.log(id);\n    var bitrate = parseInt(id) * 1000;\n    console.log(bitrate);\n    if (bitrate === 0) {\n      console.log(\"Not limiting bandwidth via REMB\");\n    } else {\n      console.log(\"Capping bandwidth to \" + bitrate + \" via REMB\");\n    }\n\n    sfutest.send({\n      message: { request: \"configure\", bitrate: bitrate },\n    });\n\n    return false;\n  };\n\n  const start = () => {\n    setShowColMd(true);\n    setjoinDiv(false);\n\n    Janus.init({\n      debug: \"all\",\n      callback: function () {\n        // Make sure the browser supports WebRTC\n        // Create session\n        janus = new Janus({\n          server: server,\n          success: function () {\n            // Attach to VideoRoom plugin\n            janus.attach({\n              plugin: \"janus.plugin.videoroom\",\n              opaqueId: opaqueId,\n              success: function (pluginHandle: any) {\n                sfutest = pluginHandle;\n                console.log(\n                  \"Plugin attached! (\" +\n                    sfutest.getPlugin() +\n                    \", id=\" +\n                    sfutest.getId() +\n                    \")\"\n                );\n                console.log(sfutest.session.getSessionId());\n\n                console.log(\"  -- This is a publisher/m a n a g e r \");\n\n                myusername = name;\n\n                const register = {\n                  request: \"join\",\n                  room: myroom,\n                  ptype: \"publisher\",\n                  display: name,\n                  record: false,\n                };\n                console.log(myusername);\n\n                sfutest.send({ message: register });\n              },\n              error: function (error: any) {\n                console.error(\"  -- Error attaching plugin...\", error);\n              },\n              consentDialog: function (on: any) {\n                console.debug(\n                  \"Consent dialog should be \" + (on ? \"on\" : \"off\") + \" now\"\n                );\n              },\n              mediaState: function (medium: any, on: any) {\n                console.log(\n                  \"Janus \" +\n                    (on ? \"started\" : \"stopped\") +\n                    \" receiving our \" +\n                    medium\n                );\n              },\n              webrtcState: function (on: any) {\n                console.log(\n                  \"Janus says our WebRTC PeerConnection is \" +\n                    (on ? \"up\" : \"down\") +\n                    \" now\"\n                );\n                if (!on) return;\n                // setsfuTestObject(sfutest);\n              },\n\n              onmessage: function (msg: any, jsep: any) {\n                console.debug(\" ::: Got a message (publisher) :::\");\n                let event = msg[\"videoroom\"];\n                console.log(msg);\n                console.debug(\"Event: \" + event);\n                if (event != undefined && event != null) {\n                  if (event === \"joined\") {\n                    // Publisher/manager created, negotiate WebRTC and attach to existing feeds, if any\n                    myid = msg[\"id\"];\n                    mypvtid = msg[\"private_id\"];\n                    console.log(\n                      \"Successfully joined room \" +\n                        msg[\"room\"] +\n                        \" with ID \" +\n                        myid\n                    );\n                    if (subscriber_mode) {\n                      const element: HTMLElement =\n                        document.getElementById(\"hideDiv\")!;\n                      element?.parentNode?.removeChild(element);\n                      // $(\"#videos\").removeClass(\"hide\").show();\n                    } else {\n                      publishOwnFeed(true);\n                    }\n\n                    if (\n                      msg[\"publishers\"] !== undefined &&\n                      msg[\"publishers\"] !== null\n                    ) {\n                      let list = msg[\"publishers\"];\n                      console.log(\"Got a list of available publishers/feeds:\");\n                      console.log(list);\n                      for (let f in list) {\n                        let id = list[f][\"id\"];\n                        let display = list[f][\"display\"];\n                        let audio = list[f][\"audio_codec\"];\n                        let video = list[f][\"video_codec\"];\n                        console.log(\n                          \"  >> [\" +\n                            id +\n                            \"] \" +\n                            display +\n                            \" (audio: \" +\n                            audio +\n                            \", video: \" +\n                            video +\n                            \")\"\n                        );\n                        newRemoteFeed(id, display, audio, video);\n                      }\n                    }\n                  } else if (event === \"destroyed\") {\n                    // The room has been destroyed\n                    console.warn(\"The room has been destroyed!\");\n                    console.error(\"The room has been destroyed\");\n                  } else if (event === \"event\") {\n                    // Any new feed to attach to?\n                    if (\n                      msg[\"publishers\"] !== undefined &&\n                      msg[\"publishers\"] !== null\n                    ) {\n                      console.log(\"new publishers!\");\n                      let list = msg[\"publishers\"];\n                      console.log(msg);\n                      for (let f in list) {\n                        let id = list[f][\"id\"];\n                        let display = list[f][\"display\"];\n                        let audio = list[f][\"audio_codec\"];\n                        let video = list[f][\"video_codec\"];\n                        console.log(\n                          \"  >> [\" +\n                            id +\n                            \"] \" +\n                            display +\n                            \" (audio: \" +\n                            audio +\n                            \", video: \" +\n                            video +\n                            \")\"\n                        );\n                        newRemoteFeed(id, display, audio, video);\n                      }\n                    } else if (\n                      msg[\"leaving\"] !== undefined &&\n                      msg[\"leaving\"] !== null\n                    ) {\n                      // One of the publishers has gone away?\n                    } else if (\n                      msg[\"unpublished\"] !== undefined &&\n                      msg[\"unpublished\"] !== null\n                    ) {\n                      // One of the publishers has unpublished?\n                      if (msg[\"unpublished\"] === \"ok\") {\n                        sfutest.hangup();\n                        return;\n                      }\n                    } else if (\n                      msg[\"error\"] !== undefined &&\n                      msg[\"error\"] !== null\n                    ) {\n                      if (msg[\"error_code\"] === 426) {\n                        // This is a \"no such room\" error: give a more meaningful description\n                      } else {\n                        console.log(\"No Such Room\");\n                      }\n                    }\n                  }\n                }\n\n                if (jsep !== undefined && jsep !== null) {\n                  console.debug(\"Got room event. Handling SDP as well...\");\n                  console.debug(jsep);\n                  sfutest.handleRemoteJsep({ jsep: jsep });\n                  // Check if any of the media we wanted to publish has\n                  // been rejected (e.g., wrong or unsupported codec)\n                  let audio = msg[\"audio_codec\"];\n                  if (\n                    mystream &&\n                    mystream.getAudioTracks() &&\n                    mystream.getAudioTracks().length > 0 &&\n                    !audio\n                  ) {\n                    // Audio has been rejected\n                    alert(\n                      \"Our audio stream has been rejected, viewers won't hear us\"\n                    );\n                  }\n                  let video = msg[\"video_codec\"];\n                  if (\n                    mystream &&\n                    mystream.getVideoTracks() &&\n                    mystream.getVideoTracks().length > 0 &&\n                    !video\n                  ) {\n                    // Video has been rejected\n                    console.log(\n                      \"Our video stream has been rejected, viewers won't see us\"\n                    );\n                  }\n                }\n              },\n\n              onlocalstream: function (stream: any) {\n                console.log(\" ::: Got a local stream :::\", stream);\n                mystream = stream;\n\n                // $(\"#videos\").removeClass(\"hide\").show();\n\n                const videoTag = document.createElement(\"video\");\n                videoTag.className = \"rounded centered\";\n                videoTag.id = \"myvideo\";\n                videoTag.height = 330;\n                videoTag.width = 270;\n                videoTag.autoplay = true;\n                videoTag.playsInline = true;\n                videoTag.style.borderRadius = \"5px\";\n                videoTag.muted = true;\n\n                const muteBtn = document.createElement(\"button\");\n                muteBtn.className = \"btn btn-warning btn-xs\";\n                muteBtn.id = \"mute\";\n                muteBtn.textContent = \"Mute\";\n                muteBtn.style.position = \"relative\";\n                muteBtn.style.right = \"10px\";\n\n                const unpublishBtn = document.createElement(\"button\");\n                unpublishBtn.className = \"btn btn-warning btn-xs\";\n                unpublishBtn.id = \"unpublish\";\n                unpublishBtn.textContent = \"Unpublish\";\n                unpublishBtn.style.position = \"relative\";\n                unpublishBtn.style.left = \"100px\";\n\n                  //\n                  var videolocal = document.getElementById(\"videolocal\")!;\n\n                  videolocal.appendChild(videoTag);\n\n                  videolocal.appendChild(muteBtn);\n                  videolocal.appendChild(unpublishBtn);\n                  var muteToggle: any = document.getElementById(\"mute\");\n\n                  muteToggle?.addEventListener(\"click\", toggleMute);\n                  var unpublishHandle: any =\n                    document.getElementById(\"unpublish\");\n\n                  unpublishHandle?.addEventListener(\"click\", unpublishOwnFeed);\n                $(\"#publisher\").removeClass(\"hide\").html(myusername).show();\n                Janus.attachMediaStream(videoTag, stream);\n                if (\n                  sfutest.webrtcStuff.pc.iceConnectionState !== \"completed\" &&\n                  sfutest.webrtcStuff.pc.iceConnectionState !== \"connected\"\n                )\n                  var videoTracks = stream.getVideoTracks();\n              },\n              onremotestream: function (stream: any) {\n                // The publisher stream is sendonly, we don't expect anything here\n              },\n              oncleanup: function () {\n                console.log(\n                  \" ::: Got a cleanup notification: we are unpublished now :::\"\n                );\n                mystream = null;\n                function createButton() {\n                  var div: HTMLElement = document.getElementById(\"videolocal\")!;\n                  div.innerHTML =\n                    '<button id=\"publish\" class=\"btn btn-primary\">Publish</button>';\n                }\n                createButton();\n\n                const hide = () => {\n                  const publishBtn = document.getElementById(\"publish\")!;\n                  publishBtn.style.display = \"none\";\n                };\n                var element: any = document.getElementById(\"publish\");\n                var listener = element.addEventListener(\"click\", function () {\n                  publishOwnFeed(true);\n                  hide();\n                });\n              },\n            });\n          },\n          error: function (error: any) {\n            console.error(error);\n          },\n          destroyed: function () {\n            console.log(\"destroyed\");\n          },\n        });\n      },\n    });\n\n    function publishOwnFeed(useAudio: any) {\n      // Publish our stream\n      sfutest.createOffer({\n        media: {\n          audioRecv: false,\n          videoRecv: false,\n          audioSend: useAudio,\n          videoSend: true,\n        }, // Publishers are sendonly\n        success: function (jsep: any) {\n          console.debug(\"Got publisher SDP!\");\n          console.debug(jsep);\n          const publish = {\n            request: \"configure\",\n            audio: useAudio,\n            video: true,\n            record: false,\n          };\n          sfutest.send({ message: publish, jsep: jsep });\n        },\n        error: function (error: any) {\n          console.error(\"WebRTC error:\", error);\n          if (useAudio) {\n            publishOwnFeed(false);\n          }\n        },\n      });\n    }\n\n    function newRemoteFeed(id: any, display: any, audio: any, video: any) {\n      // A new feed has been published, create a new plugin handle and attach to it as a subscriber\n      let remoteFeed: any = null;\n\n      console.log(\"hexx\");\n      janus.attach({\n        plugin: \"janus.plugin.videoroom\",\n        opaqueId: opaqueId,\n        success: function (pluginHandle: any) {\n          remoteFeed = pluginHandle;\n\n          console.log(pluginHandle.plugin);\n          console.log(\n            \"Plugin attached! (\" +\n              remoteFeed.getPlugin() +\n              \", id=\" +\n              remoteFeed.getId() +\n              \")\"\n          );\n          console.log(\"  -- This is a subscriber\");\n          // We wait for the plugin to send us an offer\n          let subscribe = {\n            request: \"join\",\n            room: myroom,\n            ptype: \"subscriber\",\n            feed: id,\n            private_id: mypvtid,\n          };\n          remoteFeed.videoCodec = video;\n          remoteFeed.send({ message: subscribe });\n          console.log(subscribe);\n        },\n        error: function (error: any) {\n          console.error(\"  -- Error attaching plugin...\", error);\n        },\n        onmessage: function (msg: any, jsep: any) {\n          console.debug(\" ::: Got a message (subscriber) :::\", msg);\n          let event = msg[\"videoroom\"];\n\n          console.log(msg);\n          console.log(jsep);\n          console.log(\"Event: \" + event);\n          if (event) {\n            if (event === \"attached\") {\n              console.log(`subscriber created and attached!`);\n              // Subscriber created and attached\n              for (let i = 1; i < 6; i++) {\n                if (!feeds[i]) {\n                  feeds[i] = remoteFeed;\n                  remoteFeed.rfindex = i;\n                  break;\n                }\n              }\n              remoteFeed.rfid = msg[\"id\"];\n              remoteFeed.rfdisplay = msg[\"display\"];\n              console.log(`attached`, remoteFeed);\n              console.log(\n                \"Successfully attached to feed \" +\n                  remoteFeed.rfid +\n                  \" (\" +\n                  remoteFeed.rfdisplay +\n                  \") in room \" +\n                  msg[\"room\"]\n              );\n              // $(\"#remote\" + remoteFeed.rfindex).removeClass(\"hide\").htmlshow();\n            }\n            else if(event === 'recording') {\n              // Got an ANSWER to our recording OFFER\n              // if(jsep)\n                // recordplay.handleRemoteJsep({ jsep: jsep });\n              // var id = result[\"id\"];\n              // if(id) {\n              //   Janus.log(\"The ID of the current recording is \" + id);\n              //   // recordingId = id;\n              // }\n              console.log('record');\n            }\n\n          }\n          if (jsep) {\n            console.debug(\"Handling SDP as well...\", jsep);\n            // Answer and attach\n            remoteFeed.createAnswer({\n              jsep: jsep,\n              media: { audioSend: false, videoSend: false }, // We want recvonly audio/video\n              success: function (jsep: any) {\n                console.log(\"Got SDP!\", jsep);\n                let body = { request: \"start\", room: myroom };\n                remoteFeed.send({ message: body, jsep: jsep });\n              },\n              error: function (error: any) {\n                console.error(\"WebRTC error:\", error);\n              },\n            });\n          }\n        },\n        iceState: function (state: any) {\n          console.log(\n            \"ICE state of this WebRTC PeerConnection (feed #\" +\n              remoteFeed.rfindex +\n              \") changed to \" +\n              state\n          );\n        },\n        webrtcState: function (on: any) {\n          console.log(\n            \"Janus says this WebRTC PeerConnection (feed #\" +\n              remoteFeed.rfindex +\n              \") is \" +\n              (on ? \"up\" : \"down\") +\n              \" now\"\n          );\n        },\n        onlocalstream: function (stream: any) {\n          // The subscriber stream is recvonly, we don't expect anything here\n        },\n        onremotestream: function (stream: any) {\n          console.log(remoteFeed);\n\n          const a = $(\"#remotevideo\" + remoteFeed.rfindex).length\n          console.log(a);\n          // var addButtons = false;\n          if ($(\"#remotevideo\" + remoteFeed.rfindex).length === 0) {\n          //   addButtons = true;\n          $(\"#videoremote\" + remoteFeed.id).append(\n            '<span class=\"label label-primary hide\" id=\"curres' +\n              remoteFeed.id +\n              '\" style=\"position: absolute; bottom: 0px; left: 0px; margin: 15px;\"></span>' +\n              '  <span class=\"label label-info hide\" id=\"curbitrate' +\n              remoteFeed.id +\n              '\" style=\"position: absolute; bottom: 0px; right: 0px; margin: 15px;\"></span>'\n          );\n          $(\"#curbitrate\" + remoteFeed.id)\n            .removeClass(\"hide\")\n            .show();\n          bitrateTimer[remoteFeed.id] = setInterval(function () {\n            var bitrate = remoteFeed.getBitrate();\n            $(\"#curbitrate\" + remoteFeed.id).text(bitrate);\n          }, 1000);\n\n          // const indexOfData: any = pushedData.findIndex((remote) => {\n          //   return remote.id == remoteFeed.id;\n          // });\n\n          // if (indexOfData < 0) {\n          //   pushedData.push(remoteFeed);\n          //   setremoteFeedPushedData(pushedData);\n          // }\n\n          // console.log(typeof remoteFeed);\n\n          // console.log(pushedData);\n          // console.log();\n\n          // setremoteFeedData([...remoteFeedData, remoteFeed]);\n\n          // No remote video yet\n          // $(\"#videoremote\" + remoteFeed.rfindex).append(\n          //   '<video class=\"rounded centered relative hide\" id=\"remotevideo' +\n          //     remoteFeed.rfindex +\n          //     '\" width=\"100%\" height=\"100%\" autoplay playsinline/>'\n          // );\n          }\n\n          const indexOfData: any = pushedData.findIndex((remote) => {\n            return remote.id == remoteFeed.id;\n          });\n\n          if (indexOfData < 0) {\n            pushedData.push(remoteFeed);\n            setremoteFeedPushedData(pushedData);\n          }\n\n          // console.log(typeof remoteFeed);\n\n          // console.log(pushedData);\n          // console.log();\n          const video: HTMLElement = document.getElementById(\n            `remotevideo${remoteFeed.rfindex}`\n          )!;\n          Janus.attachMediaStream(video, stream);\n          var videoTracks = stream.getVideoTracks();\n          // $(\"#videoremote\" + remoteFeed.id).append(\n          //   '<span class=\"label label-primary hide\" id=\"curres' +\n          //     remoteFeed.id +\n          //     '\" style=\"position: absolute; bottom: 0px; left: 0px; margin: 15px;\"></span>' +\n          //     '  <span class=\"label label-info hide\" id=\"curbitrate' +\n          //     remoteFeed.id +\n          //     '\" style=\"position: absolute; bottom: 0px; right: 0px; margin: 15px;\"></span>'\n          // );\n          // $(\"#curbitrate\" + remoteFeed.id)\n          //   .removeClass(\"hide\")\n          //   .show();\n          // bitrateTimer[remoteFeed.id] = setInterval(function () {\n          //   var bitrate = remoteFeed.getBitrate();\n          //   $(\"#curbitrate\" + remoteFeed.id).text(bitrate);\n          // }, 1000);\n\n          console.log(remoteFeed);\n          console.log(\"Remote feed #\" + remoteFeed.id + \", stream:\", stream);\n          console.log(remoteFeed.display);\n        },\n        oncleanup: function () {\n          console.log(\n            \" ::: Got a cleanup notification (remote feed \" + id + \") :::\"\n          );\n\n          $(\"#remoteDiv\" + remoteFeed.rfindex).remove();\n        },\n      });\n    }\n    function toggleMute() {\n      var muted = sfutest.isAudioMuted();\n      console.log(muted);\n      console.log((muted ? \"Unmuting\" : \"Muting\") + \" local stream...\");\n      if (muted) sfutest.unmuteAudio();\n      else sfutest.muteAudio();\n      muted = sfutest.isAudioMuted();\n      $(\"#mute\").html(muted ? \"Unmute\" : \"Mute\");\n    }\n\n    function unpublishOwnFeed() {\n      // Unpublish our stream\n      var unpublish = { request: \"unpublish\" };\n      sfutest.send({ message: unpublish });\n    }\n  };\n  const bitrateDropDownObject = [\n    {\n      event: \"0\",\n      detail: \"No Limit\",\n    },{\n      event: \"128\",\n      detail: \"Cap to 128kbit\",\n    },{\n      event: \"256\",\n      detail: \"Cap to 256kbit\",\n    }, {\n      event: \"512\",\n      detail: \"Cap to 512kbit\",\n    },{\n      event: \"1024\",\n      detail: \"Cap to 1024kbit\",\n    },{\n      event: \"1500\",\n      detail: \"Cap to 1500kbit\",\n    },{\n      event: \"2000\",\n      detail: \"Cap to 2000kbit\",\n    },\n  ];\n\n\n  function start_screensharing(){\n    // var newstream;\n    // navigator.mediaDevices.getDisplayMedia({ video: true, audio: true })\n    // \t\t\t\t\t.then(function (stream) {\n    //             var [videoStream] = stream.getVideoTracks();\n    //             navigator.mediaDevices.getUserMedia({audio: true})\n    //             .then((audioStream)=> {\n    //              var  [audioTrack] = audioStream.getAudioTracks();\n    //               newstream =new MediaStream([videoStream, audioTrack] )\n    // var constraints = {video: {'mandatory': {'chromeMediaSource':'screen'}}};\n\n    // navigator.mediaDevices.getUserMedia(constraints)\n    //   .then(stream => newstream = stream)\n\n    // // ogcode  //\n    sfutest.createOffer(\n      {\n        media: { \n          video: \"screen\", audioSend: true, videoRecv: false,  \n          videoSend: true,\n        replaceVideo: true,},\t// Screen sharing Publishers are sendonly\n        // stream: newstream ,\n        success: function(jsep : any) {\n         console.log(\"Got publisher SDP!\", jsep);\n          var publish = { request: \"configure\", audio: true, video: true };\n          sfutest.send({ message: publish, jsep: jsep });\n        },\n        error: function(error : any) {\n          console.log(\"WebRTC error:\", error);\n          console.log(\"WebRTC error... \" + error.message);\n        }\n      });\n\n    //   //og code//\n\n\n      \n    // })\n  // })\n\n  }\n  function stop_screensharing(){\n    sfutest.createOffer(\n      {\n        media: { videoSend: true, audioSend: true,\n        replaceVideo: true,},\t// Screen sharing Publishers are sendonly\n        success: function(jsep :any) {\n          console.log(\"Got publisher SDP!\", jsep);\n          var publish = { request: \"configure\", audio: true, video: true };\n          sfutest.send({ message: publish, jsep: jsep });\n        },\n        error: function(error : any) {\n          console.log(\"WebRTC error:\", error);\n          console.log(\"WebRTC error... \" + error.message);\n        }\n      });\n  }\n  \n\n  return (\n    <div className=\"join\">\n      {joinDiv && (\n        <div className=\"join-container\">\n          <h2>Create Or Join Room</h2>\n\n          <form>\n            <table>\n              <tr>\n                <td>\n                  <label>Enter Username</label>\n                </td>\n                <td>\n                  <input onChange={onChangeName} type=\"text\"></input>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <label>Enter Room ID</label>\n                </td>\n                <td>\n                  <input onChange={onChangeRoomID} type=\"number\"></input>\n                </td>\n              </tr>\n            </table>\n          </form>\n          <button className=\"roombtn\" onClick={iD}>\n            {\" \"}\n            Generate Room\n          </button>\n          <button className=\"pubsub\" onClick={start}>\n            {\" \"}\n            Publisher\n          </button>\n          <button className=\"pubsub\" onClick={subscriberMode}>\n            {\" \"}\n            Subscriber\n          </button>\n        </div>\n      )}\n\n      <div>\n        {showColMd && (\n          <div className=\"container hide\" id=\"videos\">\n            <Textroom name={name} roomIDS={roomID} />\n            <div id=\"row\" className=\"row\">\n              <div className=\"col-md-4\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-heading\">\n                    <div id=\"hideDiv\">\n                      {remoteFeedPushedData.map((use: any, i) => {\n                        return <h1 key={i}>{use.rfdisplay}</h1>;\n                      })}\n                \n                      <h3 className=\"panel-title\">\n                        Local Video{\" \"}\n                        <span\n                          className=\"label label-primary hide\"\n                          id=\"publisher\"\n                        />\n                        <button className=\"btn btn-info\" onClick={() => start_screensharing()}>Start Screen</button> \n                        <button className=\"btn btn-warning\" onClick={() => stop_screensharing()}>Stop Screen</button> \n                   \n                        <Dropdown>\n                          <DropdownButton\n                            title=\"Bandwith\"\n                            id=\"dropdown-menu-align-right\"\n                            onSelect={handleSelect}\n                          >\n                            {bitrateDropDownObject.map((bit , i) => {\n                              return (\n                                <Dropdown.Item key={i} eventKey={bit.event}>\n                                  {bit.detail}\n                                </Dropdown.Item>\n                              );\n                            })}\n                          </DropdownButton>\n                        </Dropdown>\n                      </h3>\n                    </div>\n                  </div>\n\n                  <div className=\"panel-body\" id=\"videolocal\" />\n\n                  {remoteFeedPushedData.map((use: any, i) => {\n                    console.log(\"ansh\");\n\n                    return (\n                      <div\n                        key={use.rfindex}\n                        id={`remoteDiv${use.id}`}\n                        className=\"col-md-4\"\n                      >\n                        <div className=\"panel panel-default\">\n                          <div className=\"panel-heading\">\n                            <h3 className=\"panel-title\">\n                              User Name : {use.rfdisplay}\n                              <span\n                                className=\"label label-info hide\"\n                                id={`remote${use.id}`}\n                              ></span>\n                            </h3>\n                          </div>\n                          <div\n                            className=\"panel-body relative\"\n                            id={`videoremote${use.id}`}\n                          >\n                            <video\n                              id={`remotevideo${use.rfindex}`}\n                              className=\"rounded\"\n                              width=\"270px\"\n                              height=\"330px\"\n                              \n                              autoPlay\n                              playsInline\n                            ></video>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};"]},"metadata":{},"sourceType":"module"}